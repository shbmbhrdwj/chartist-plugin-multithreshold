
/* chartist-plugin-multithreshold 0.0.1
 * Copyright Â© 2017 Shubham Bhardwaj
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.returnExportsGlobal=e()}):"object"==typeof exports?module.exports=e():t["Chartist.plugins.ctMultiThreshold"]=e()}(this,function(){return function(t,e,h){"use strict";function l(t,e){for(var h=t.svg.querySelector("defs")||t.svg.elem("defs"),l=t.svg.width(),r=t.svg.height(),n=[],s=0;s<e.threshold.length;s++)n.push(t.chartRect.height()-t.axisY.projectValue(e.threshold[s])+t.chartRect.y2);for(var o=n.length-1;o>=0;o--){var i;i=o>0?n[o-1]-n[o]:n[o],h.elem("mask",{x:0,y:0,width:l,height:r,id:"ct-threshold-mask-"+o}).elem("rect",{x:0,y:n[o],width:l,height:i,fill:"white"})}return h.elem("mask",{x:0,y:0,width:l,height:r,id:"ct-threshold-"+e.threshold.length}).elem("rect",{x:0,y:0,width:l,height:n[n.length-1],fill:"white"}),h}var r={threshold:[]};h.plugins=h.plugins||{},h.plugins.ctMultiThreshold=function(t){return t=h.extend({},r,t),function(e){(e instanceof h.Line||e instanceof h.Bar)&&(e.on("draw",function(e){if("point"===e.type){var h=function(){for(var h=0;h<t.threshold.length;h++){if(e.value.y<=t.threshold[0])return"ct-threshold-0";if(e.value.y>t.threshold[t.threshold.length-1])return"ct-threshold-"+t.threshold.length;if(e.value.y<=t.threshold[h+1]&&e.value.y>t.threshold[h])return"ct-threshold-"+(h+1)}};e.element.addClass(h())}else if("line"===e.type||"bar"===e.type||"area"===e.type){for(var l=0;l<t.threshold.length;l++)e.element.parent().elem(e.element._node.cloneNode(!0)).attr({mask:"url(#ct-threshold-mask-"+l+")"}).addClass("ct-threshold-"+l);e.element.attr({mask:"url(#ct-threshold-mask-"+t.threshold.length+")"}).addClass("ct-threshold-"+t.threshold.length)}}),e.on("created",function(r){e.options.multiThresholdOptions&&(t=h.extend({},t,e.options.multiThresholdOptions)),l(r,t)}))}}}(window,document,Chartist),Chartist.plugins.ctMultiThreshold});

