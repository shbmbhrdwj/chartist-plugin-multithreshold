
/* chartist-plugin-multithreshold 0.0.1
 * Copyright Â© 2017 Shubham Bhardwaj
 * Free to use under the WTFPL license.
 * http://www.wtfpl.net/
 */

!function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.returnExportsGlobal=t()}):"object"==typeof exports?module.exports=t():e["Chartist.plugins.ctMultiThreshold"]=t()}(this,function(){return function(e,t,h){"use strict";function r(e,t){for(var h=e.svg.querySelector("defs")||e.svg.elem("defs"),r=e.svg.width(),l=e.svg.height(),n=[],s=0;s<t.threshold.length;s++)n.push(e.chartRect.height()-e.axisY.projectValue(t.threshold[s])+e.chartRect.y2);for(var o=n.length-1;o>=0;o--){var i;i=o>0?n[o-1]-n[o]:n[o],h.elem("mask",{x:0,y:0,width:r,height:l,id:"ct-threshold-mask-"+o}).elem("rect",{x:0,y:n[o],width:r,height:i,fill:"white"})}return h.elem("mask",{x:0,y:0,width:r,height:l,id:"ct-threshold-"+t.threshold.length}).elem("rect",{x:0,y:0,width:r,height:n[n.length-1],fill:"white"}),h}var l={threshold:[]};h.plugins=h.plugins||{},h.plugins.ctMultiThreshold=function(e){return e=h.extend({},l,e),function(t){(t instanceof h.Line||t instanceof h.Bar)&&(t.on("draw",function(t){if("point"===t.type){var h=function(){for(var h=0;h<e.threshold.length;h++){if(t.value.y<=e.threshold[0])return"ct-threshold-0";if(t.value.y>e.threshold[e.threshold.length-1])return"ct-threshold-"+e.threshold.length;if(t.value.y<=e.threshold[h+1]&&t.value.y>e.threshold[h])return"ct-threshold-"+(h+1)}};t.element.addClass(h())}else if("line"===t.type||"bar"===t.type||"area"===t.type){for(var r=0;r<e.threshold.length;r++)t.element.parent().elem(t.element._node.cloneNode(!0)).attr({mask:"url(#ct-threshold-mask-"+r+")"}).addClass("ct-threshold-"+r);t.element.attr({mask:"url(#ct-threshold-mask-"+e.threshold.length+")"}).addClass("ct-threshold-"+e.threshold.length)}}),t.on("created",function(t){r(t,e)}))}}}(window,document,Chartist),Chartist.plugins.ctMultiThreshold});

